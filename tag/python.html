<!DOCTYPE html>
<html lang="es">
<head>
        <meta charset="utf-8" />
        <title>pataliebre.net - python</title>
        <link rel="stylesheet" href="http://pataliebre.net/theme/css/main.css" />
        <link href="http://pataliebre.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="pataliebre.net Atom Feed" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="https://github.com/davidcaste/davidcaste.github.com">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="http://pataliebre.net/">pataliebre.net </a></h1>
                <nav><ul>
                    <li><a href="http://pataliebre.net/pages/about-me.html">acerca de mí</a></li>
                    <li><a href="http://pataliebre.net/category/desarrollo.html">desarrollo</a></li>
                    <li><a href="http://pataliebre.net/category/general.html">general</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://pataliebre.net/blog-lowcost-con-github-y-pelican.html">Blog lowcost con GitHub y Pelican</a></h1>
<footer class="post-info">
        <abbr class="published" title="2014-05-27T00:00:00">
                mar 27 mayo 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://pataliebre.net/author/david.html">david</a>
        </address>
<p>In <a href="http://pataliebre.net/category/general.html">general</a>. </p>
<p>tags: <a href="http://pataliebre.net/tag/github.html">github</a><a href="http://pataliebre.net/tag/python.html">python</a><a href="http://pataliebre.net/tag/pelican.html">pelican</a></p>
</footer><!-- /.post-info --><!--
Status: draft
-->

<p>Gracias a <a href="https://pages.github.com/">GitHub Pages</a> y un generador estático de contenido como <a href="http://blog.getpelican.com/">Pelican</a> es muy fácil montar un blog <em>lowcost</em>. Un humilde ejemplo es este blog, pero hasta hace poco no había conseguido una configuración que mereciera la pena compartir.</p>
<h3>GitHub Pages</h3>
<p>En general, el comportamiento de GitHub Pages es muy sencillo. Prácticamente consiste en crear un repositorio <code>git</code>, realizar un commit con documentos HTML, y unos minutos después este contenido será accesible en una URL.</p>
<p>GitHub Pages ofrece dos modalidades de servicio: páginas para desarrolladores u organizaciones, y páginas para proyectos. Dependiendo de la modalidad que estemos usando varía la forma en la que se monta el sitio:</p>
<ul>
<li>En la modalidad para desarrolladores u organizaciones, se debe crear un repositorio llamado <em>usuario</em>.github.io, donde <em>usuario</em> es el nombre del usuario o de la organización en GitHub. La página (o páginas) HTML que se deseen servir se deben añadir directamente en la rama <code>master</code>, y no importa lo que haya en el resto de ramas. Este contenido es accesible desde la URL <strong>http://<em>usuario</em>.github.io</strong>.</li>
<li>En la modalidad para proyectos, no es necesario crear nuevos repositorios. En el repositorio del proyecto se debe crear una rama llamada <code>gh-pages</code>, y añadir ahí el contenido HTML. Este contenido será accesible desde la URL <strong>http://<em>usuario</em>.github.io/<em>repository</em></strong>.</li>
</ul>
<p>Aunque puede parecer un lío la gestión de estas ramas, afortunadamente existe una herramienta llamada <a href="https://github.com/davisp/ghp-import/">ghp-import</a> que facilita en gran manera estas operaciones.</p>
<h3>Pelican</h3>
<p>Pelican es un generador estático de contenido, al estilo de <a href="http://jekyllrb.com/">Jekyll</a>. Por si fuera necesario, en <a href="http://staticsitegenerators.net/">Static Site Generators</a> hay una recopilación de proyectos similares.</p>
<p>Además de la <a href="http://docs.getpelican.com">documentación</a> del proyecto, hay multitud de páginas con instrucciones para configurar Pelican (por ejemplo <a href="http://www.circuidipity.com/github-pages.html">aquí</a> y <a href="http://mathamy.com/migrating-to-github-pages-using-pelican.html">aquí</a>). Además el comando <code>pelican-quickstart</code> es de ayuda para crear rápidamente una configuración básica de un blog.</p>
<h3>Usar Pelican en GitHub Pages para desarrolladores</h3>
<p>En mi caso, elegí utilizar GitHub Pages en su modalidad para desarrolladores. Para ello, hice lo siguiente:</p>
<ol>
<li>
<p>Crear un repositorio llamado <a href="https://github.com/davidcaste/davidcaste.github.io">davidcaste.github.io</a>, y clonarlo en mi ordenador:</p>
<p><code>git clone https://github.com/davidcaste/davidcaste.github.io</code></p>
</li>
<li>
<p>En el repositorio local, crear una rama llamada <code>source</code>, y cambiar a ella:</p>
<p><code>git checkout -b source</code></p>
</li>
<li>
<p>Crear una configuración básica con <code>pelican-quickstart</code> y seguir las instrucciones.</p>
</li>
</ol>
<p>Llegados a este punto, contamos con una configuración Pelican funcional. La <a href="http://docs.getpelican.com/en/3.3.0/getting_started.html#basic-usage">documentación de Pelican</a> nos explica (entre otras muchas cosas) cómo crear contenidos y generar el contenido estático a partir de ellos.</p>
<p>Según la configuración por defecto, las páginas generadas se almacenarán en el directorio <code>output</code>. Este directorio <strong>no</strong> es necesario añadirlo al repositorio, y lo ideal es añadir las siguientes líneas al fichero <code>.gitignore</code>:</p>
<div class="highlight"><pre><span class="n">output</span>
<span class="n">pelican</span><span class="p">.</span><span class="n">pid</span>
<span class="n">srv</span><span class="p">.</span><span class="n">pid</span>
</pre></div>


<p>Como se comentó anteriormente, GitHub Pages para desarrolladores va a servir el contenido HTML que se encuentre en la rama <code>master</code> del repositorio. Podríamos copiar el contenido del directorio <code>ouput</code> a algún sitio, cambiar a la rama <code>master</code> y añadir el contenido anteriores. Es factible, pero sin duda que es un procedimiento muy tedioso.</p>
<p>El script <code>ghp-import</code> nos permite evitar los pasos anteriores. Con ejecutar <code>ghp-import -b master output</code> él sólo va a realizar un commit en <code>master</code> con los contenidos del directorio <code>output</code>. Sólo nos quedaría subir los cambios de vuelta a GitHub con el comando <code>git push origin master</code>.</p>
<p>El proceso se puede automatizar aún más modificando el fichero <code>Makefile</code> que genera <code>pelican-quickstart</code>; en lugar de que el objetivo <code>github</code> invoque a <code>ghp-import</code> sobre la rama <code>gh-pages</code>, nos interesa que se invoque sobre la rama <code>master</code>:</p>
<div class="highlight"><pre><span class="n">github</span><span class="o">:</span> <span class="n">publish</span>
    <span class="n">ghp</span><span class="o">-</span><span class="k">import</span> <span class="o">-</span><span class="n">b</span> <span class="n">master</span> <span class="n">$</span><span class="o">(</span><span class="n">OUTPUTDIR</span><span class="o">)</span>
    <span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>


<h3>Conclusiones</h3>
<p>La tupla GitHub Pages y un generador estático de contenido como Pelican permiten crear fácilmente páginas y blogs que requieren un esfuerzo de mantenimiento cercano a cero. Pelican en particular ofrece una serie de scripts y facilidades que automatizan las operaciones más tediosas.</p>
<p>En definitiva, la posibilidad de poder usar las mismas herramientas que las usadas durante el desarrollo de software, hacen de GitHub Pages junto con Pelican ofrece una alternativa muy a tener en cuenta con respecto a otras plataformas de blogs tradicionales como <a href="http://es.wordpress.com/">WordPress</a> o <a href="https://www.blogger.com">Blogger</a>.</p><p>There are <a href="http://pataliebre.net/blog-lowcost-con-github-y-pelican.html#disqus_thread">comments</a>.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://pataliebre.net/otra-expresion-regular-para-extraer-urls.html" rel="bookmark"
                           title="Permalink to (Otra) expresión regular para extraer URLs">(Otra) expresión regular para extraer URLs</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-06-18T00:00:00">
                lun 18 junio 2012
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://pataliebre.net/author/david.html">david</a>
        </address>
<p>In <a href="http://pataliebre.net/category/desarrollo.html">desarrollo</a>. </p>
<p>tags: <a href="http://pataliebre.net/tag/regex.html">regex</a><a href="http://pataliebre.net/tag/web.html">web</a><a href="http://pataliebre.net/tag/python.html">python</a></p>
</footer><!-- /.post-info -->                <p>Escribir una expresión regular que extraiga URLs de un texto arbitrario no es
una tarea sencilla, la prueba es que existen en Internet literalmente cientos
de aproximaciones que abordan el problema con más o menos éxito.</p>
<p>Hay que tener en cuenta que <a href="http://www.codinghorror.com/blog/2008/10/the-problem-with-urls.html">no es posible detectar <em>cualquier</em>
URL en un ...</a></p>
                <a class="readmore" href="http://pataliebre.net/otra-expresion-regular-para-extraer-urls.html">read more</a>
<p>There are <a href="http://pataliebre.net/otra-expresion-regular-para-extraer-urls.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://pataliebre.net/control-de-concurrencia-usando-d-bus.html" rel="bookmark"
                           title="Permalink to Control de concurrencia usando D-Bus">Control de concurrencia usando D-Bus</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-05-04T00:00:00">
                vie 04 mayo 2012
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://pataliebre.net/author/david.html">david</a>
        </address>
<p>In <a href="http://pataliebre.net/category/desarrollo.html">desarrollo</a>. </p>
<p>tags: <a href="http://pataliebre.net/tag/python.html">python</a><a href="http://pataliebre.net/tag/dbus.html">dbus</a><a href="http://pataliebre.net/tag/concurrencia.html">concurrencia</a></p>
</footer><!-- /.post-info -->                <p>Un problema frecuente es cómo impedir que un programa se ejecute dos o más
veces de forma concurrente. Uno de los mecanismos más utilizados para afrontar
este problema es el conocido como <a href="http://en.wikipedia.org/wiki/File_locking">file locking</a>. En un proyecto hemos
utilizado <a href="http://en.wikipedia.org/wiki/DBus">D-Bus</a> para implementar un mecanismo similar.</p>
<p>D-Bus es un sistema de ...</p>
                <a class="readmore" href="http://pataliebre.net/control-de-concurrencia-usando-d-bus.html">read more</a>
<p>There are <a href="http://pataliebre.net/control-de-concurrencia-usando-d-bus.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
            </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 1
</p>
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://pataliebre.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="http://github.com/davidcaste">github</a></li>
                            <li><a href="http://es.linkedin.com/in/davidcaste">linkedin</a></li>
                            <li><a href="http://twitter.com/davidcaste">twitter</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-31198203-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'pataliebredotnet';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>